{"ast":null,"code":"import \"../libs/three.min.js\";\nimport \"../\";\n\"use strict\";\n\nwindow.teal = {};\nwindow.$t = window.teal;\n\nteal.copyto = function (obj, res) {\n  if (obj == null || typeof obj !== 'object') return obj;\n\n  if (obj instanceof Array) {\n    for (var i = obj.length - 1; i >= 0; --i) {\n      res[i] = $t.copy(obj[i]);\n    }\n  } else {\n    for (var i in obj) {\n      if (obj.hasOwnProperty(i)) res[i] = $t.copy(obj[i]);\n    }\n  }\n\n  return res;\n};\n\nteal.copy = function (obj) {\n  if (!obj) return obj;\n  return teal.copyto(obj, new obj.constructor());\n};\n\nteal.element = function (name, props, place, content) {\n  var dom = document.createElement(name);\n  if (props) for (var i in props) {\n    dom.setAttribute(i, props[i]);\n  }\n  if (place) place.appendChild(dom);\n  if (content !== undefined) $t.inner(content, dom);\n  return dom;\n};\n\nteal.inner = function (obj, sel) {\n  sel.appendChild(obj.nodeName != undefined ? obj : document.createTextNode(obj));\n  return sel;\n};\n\nteal.id = function (id) {\n  return document.getElementById(id);\n};\n\nteal.set = function (sel, props) {\n  for (var i in props) {\n    sel.setAttribute(i, props[i]);\n  }\n\n  return sel;\n};\n\nteal.clas = function (sel, oldclass, newclass) {\n  var oc = oldclass ? oldclass.split(/\\s+/) : [],\n      nc = newclass ? newclass.split(/\\s+/) : [],\n      classes = (sel.getAttribute('class') || '').split(/\\s+/);\n  if (!classes[0]) classes = [];\n\n  for (var i in oc) {\n    var ind = classes.indexOf(oc[i]);\n    if (ind >= 0) classes.splice(ind, 1);\n  }\n\n  for (var i in nc) {\n    if (nc[i] && classes.indexOf(nc[i]) < 0) classes.push(nc[i]);\n  }\n\n  sel.setAttribute('class', classes.join(' '));\n};\n\nteal.empty = function (sel) {\n  if (sel.childNodes) while (sel.childNodes.length) {\n    sel.removeChild(sel.firstChild);\n  }\n};\n\nteal.remove = function (sel) {\n  if (sel) {\n    if (sel.parentNode) sel.parentNode.removeChild(sel);else for (var i = sel.length - 1; i >= 0; --i) {\n      sel[i].parentNode.removeChild(sel[i]);\n    }\n  }\n};\n\nteal.bind = function (sel, eventname, func, bubble) {\n  if (!sel) return;\n\n  if (eventname.constructor === Array) {\n    for (var i in eventname) {\n      sel.addEventListener(eventname[i], func, bubble ? bubble : false);\n    }\n  } else sel.addEventListener(eventname, func, bubble ? bubble : false);\n};\n\nteal.unbind = function (sel, eventname, func, bubble) {\n  if (eventname.constructor === Array) {\n    for (var i in eventname) {\n      sel.removeEventListener(eventname[i], func, bubble ? bubble : false);\n    }\n  } else sel.removeEventListener(eventname, func, bubble ? bubble : false);\n};\n\nteal.one = function (sel, eventname, func, bubble) {\n  var one_func = function one_func(e) {\n    func.call(this, e);\n    teal.unbind(sel, eventname, one_func, bubble);\n  };\n\n  teal.bind(sel, eventname, one_func, bubble);\n};\n\nteal.raise_event = function (sel, eventname, bubble, cancelable) {\n  var evt = document.createEvent('UIEvents');\n  evt.initEvent(eventname, bubble == undefined ? true : bubble, cancelable == undefined ? true : cancelable);\n  sel.dispatchEvent(evt);\n};\n\nteal.raise = function (sel, eventname, params, bubble, cancelable) {\n  var ev = document.createEvent(\"CustomEvent\");\n  ev.initCustomEvent(eventname, bubble, cancelable, params);\n  sel.dispatchEvent(ev);\n};\n\nif (!document.getElementsByClassName) {\n  teal.get_elements_by_class = function (classes, node) {\n    var node = node || document,\n        list = node.getElementsByTagName('*'),\n        cl = classes.split(/\\s+/),\n        result = [];\n\n    for (var i = list.length - 1; i >= 0; --i) {\n      for (var j = cl.length - 1; j >= 0; --j) {\n        var clas = list[i].getAttribute('class');\n\n        if (clas && clas.search('\\\\b' + cl[j] + '\\\\b') != -1) {\n          result.push(list[i]);\n          break;\n        }\n      }\n    }\n\n    return result;\n  };\n} else {\n  teal.get_elements_by_class = function (classes, node) {\n    return (node || document).getElementsByClassName(classes);\n  };\n}\n\nteal.rpc = function (params, callback, noparse) {\n  var ajax = new XMLHttpRequest();\n  ajax.open(\"post\", 'f', true);\n\n  ajax.onreadystatechange = function () {\n    if (ajax.readyState == 4) callback.call(ajax, noparse ? ajax.responseText : JSON.parse(ajax.responseText));\n  };\n\n  ajax.send(JSON.stringify(params));\n};\n\nteal.uuid = function () {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n    var r = Math.random() * 16 | 0,\n        v = c == 'x' ? r : r & 0x3 | 0x8;\n    return v.toString(16);\n  });\n};\n\nteal.get_url_params = function () {\n  var params = window.location.search.substring(1).split(\"&\");\n  var res = {};\n\n  for (var i in params) {\n    var keyvalue = params[i].split(\"=\");\n    res[keyvalue[0]] = decodeURI(keyvalue[1]);\n  }\n\n  return res;\n};\n\nteal.get_mouse_coords = function (ev) {\n  var touches = ev.changedTouches;\n  if (touches) return {\n    x: touches[0].clientX,\n    y: touches[0].clientY\n  };\n  return {\n    x: ev.clientX,\n    y: ev.clientY\n  };\n};\n\nteal.deferred = function () {\n  var solved = false,\n      callbacks = [],\n      args = [];\n\n  function solve() {\n    while (callbacks.length) {\n      callbacks.shift().apply(this, args);\n    }\n  }\n\n  return {\n    promise: function promise() {\n      return {\n        then: function then(callback) {\n          var deferred = teal.deferred(),\n              promise = deferred.promise();\n          callbacks.push(function () {\n            var res = callback.apply(this, arguments);\n            if (res && 'done' in res) res.done(deferred.resolve);else deferred.resolve.apply(this, arguments);\n          });\n          return promise;\n        },\n        done: function done(callback) {\n          callbacks.push(callback);\n          if (solved) solve();\n          return this;\n        },\n        cancel: function cancel() {\n          callbacks = [];\n        }\n      };\n    },\n    resolve: function resolve() {\n      solved = true;\n      args = Array.prototype.slice.call(arguments, 0);\n      solve();\n    }\n  };\n};\n\nteal.when = function (promises) {\n  var deferred = teal.deferred();\n  var count = promises.length,\n      ind = 0;\n  if (count == 0) deferred.resolve();\n\n  for (var i = 0; i < count; ++i) {\n    promises[i].done(function () {\n      if (++ind == count) deferred.resolve();\n    });\n  }\n\n  return deferred.promise();\n};","map":{"version":3,"names":["window","teal","$t","copyto","obj","res","Array","i","length","copy","hasOwnProperty","constructor","element","name","props","place","content","dom","document","createElement","setAttribute","appendChild","undefined","inner","sel","nodeName","createTextNode","id","getElementById","set","clas","oldclass","newclass","oc","split","nc","classes","getAttribute","ind","indexOf","splice","push","join","empty","childNodes","removeChild","firstChild","remove","parentNode","bind","eventname","func","bubble","addEventListener","unbind","removeEventListener","one","one_func","e","call","raise_event","cancelable","evt","createEvent","initEvent","dispatchEvent","raise","params","ev","initCustomEvent","getElementsByClassName","get_elements_by_class","node","list","getElementsByTagName","cl","result","j","search","rpc","callback","noparse","ajax","XMLHttpRequest","open","onreadystatechange","readyState","responseText","JSON","parse","send","stringify","uuid","replace","c","r","Math","random","v","toString","get_url_params","location","substring","keyvalue","decodeURI","get_mouse_coords","touches","changedTouches","x","clientX","y","clientY","deferred","solved","callbacks","args","solve","shift","apply","promise","then","arguments","done","resolve","cancel","prototype","slice","when","promises","count"],"sources":["/home/alex/react-dice/teal.js"],"sourcesContent":["\nimport \"../libs/three.min.js\"\nimport \"../\"\n\n\"use strict\";\n\nwindow.teal = {};\nwindow.$t = window.teal;\n\nteal.copyto = function(obj, res) {\n    if (obj == null || typeof obj !== 'object') return obj;\n    if (obj instanceof Array) {\n        for (var i = obj.length - 1; i >= 0; --i)\n            res[i] = $t.copy(obj[i]);\n    }\n    else {\n        for (var i in obj) {\n            if (obj.hasOwnProperty(i))\n                res[i] = $t.copy(obj[i]);\n        }\n    }\n    return res;\n}\n\nteal.copy = function(obj) {\n    if (!obj) return obj;\n    return teal.copyto(obj, new obj.constructor());\n}\n\nteal.element = function(name, props, place, content) {\n    var dom = document.createElement(name);\n    if (props) for (var i in props) dom.setAttribute(i, props[i]);\n    if (place) place.appendChild(dom);\n    if (content !== undefined) $t.inner(content, dom);\n    return dom;\n}\n\nteal.inner = function(obj, sel) {\n    sel.appendChild(obj.nodeName != undefined ? obj : document.createTextNode(obj));\n    return sel;\n}\n\nteal.id = function(id) {\n    return document.getElementById(id);\n}\n\nteal.set = function(sel, props) {\n    for (var i in props) sel.setAttribute(i, props[i]);\n    return sel;\n}\n\nteal.clas = function(sel, oldclass, newclass) {\n    var oc = oldclass ? oldclass.split(/\\s+/) : [],\n        nc = newclass ? newclass.split(/\\s+/) : [],\n        classes = (sel.getAttribute('class') || '').split(/\\s+/);\n    if (!classes[0]) classes = [];\n    for (var i in oc) {\n        var ind = classes.indexOf(oc[i]);\n        if (ind >= 0) classes.splice(ind, 1);\n    }\n    for (var i in nc) {\n        if (nc[i] && classes.indexOf(nc[i]) < 0) classes.push(nc[i]);\n    }\n    sel.setAttribute('class', classes.join(' '));\n}\n\nteal.empty = function(sel) {\n    if (sel.childNodes)\n        while (sel.childNodes.length)\n            sel.removeChild(sel.firstChild);\n}\n\nteal.remove = function(sel) {\n    if (sel) {\n        if (sel.parentNode) sel.parentNode.removeChild(sel);\n        else for (var i = sel.length - 1; i >= 0; --i)\n            sel[i].parentNode.removeChild(sel[i]);\n    }\n}\n\nteal.bind = function(sel, eventname, func, bubble) {\n    if (!sel) return;\n    if (eventname.constructor === Array) {\n        for (var i in eventname)\n            sel.addEventListener(eventname[i], func, bubble ? bubble : false);\n    }\n    else\n        sel.addEventListener(eventname, func, bubble ? bubble : false);\n}\n\nteal.unbind = function(sel, eventname, func, bubble) {\n    if (eventname.constructor === Array) {\n        for (var i in eventname)\n            sel.removeEventListener(eventname[i], func, bubble ? bubble : false);\n    }\n    else\n        sel.removeEventListener(eventname, func, bubble ? bubble : false);\n}\n\nteal.one = function(sel, eventname, func, bubble) {\n    var one_func = function(e) {\n        func.call(this, e);\n        teal.unbind(sel, eventname, one_func, bubble);\n    };\n    teal.bind(sel, eventname, one_func, bubble);\n}\n\nteal.raise_event = function(sel, eventname, bubble, cancelable) {\n    var evt = document.createEvent('UIEvents');\n    evt.initEvent(eventname, bubble == undefined ? true : bubble,\n            cancelable == undefined ? true : cancelable);\n    sel.dispatchEvent(evt);\n}\n\nteal.raise = function(sel, eventname, params, bubble, cancelable) {\n    var ev = document.createEvent(\"CustomEvent\");\n    ev.initCustomEvent(eventname, bubble, cancelable, params);\n    sel.dispatchEvent(ev);\n}\n\nif (!document.getElementsByClassName) {\n    teal.get_elements_by_class = function(classes, node) {\n        var node = node || document,\n            list = node.getElementsByTagName('*'),\n            cl = classes.split(/\\s+/),\n            result = [];\n\n        for (var i = list.length - 1; i >= 0; --i) {\n            for (var j = cl.length - 1; j >= 0; --j) {\n                var clas = list[i].getAttribute('class');\n                if (clas && clas.search('\\\\b' + cl[j] + '\\\\b') != -1) {\n                    result.push(list[i]);\n                    break;\n                }\n            }\n        }\n        return result;\n    }\n}\nelse {\n    teal.get_elements_by_class = function(classes, node) {\n        return (node || document).getElementsByClassName(classes);\n    }\n}\n\nteal.rpc = function(params, callback, noparse) {\n    var ajax = new XMLHttpRequest();\n    ajax.open(\"post\", 'f', true);\n    ajax.onreadystatechange = function() {\n        if (ajax.readyState == 4)\n            callback.call(ajax, noparse ? ajax.responseText : JSON.parse(ajax.responseText));\n    };\n    ajax.send(JSON.stringify(params));\n}\n\nteal.uuid = function() {\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n        var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);\n        return v.toString(16);\n    });\n}\n\nteal.get_url_params = function() {\n    var params = window.location.search.substring(1).split(\"&\");\n    var res = {};\n    for (var i in params) {\n        var keyvalue = params[i].split(\"=\");\n        res[keyvalue[0]] = decodeURI(keyvalue[1]);\n    }\n    return res;\n}\n\nteal.get_mouse_coords = function(ev) {\n    var touches = ev.changedTouches;\n    if (touches) return { x: touches[0].clientX, y: touches[0].clientY };\n    return { x: ev.clientX, y: ev.clientY };\n}\n\nteal.deferred = function() {\n    var solved = false, callbacks = [], args = [];\n    function solve() {\n        while (callbacks.length) {\n            callbacks.shift().apply(this, args);\n        }\n    }\n    return {\n        promise: function() {\n            return {\n                then: function(callback) {\n                    var deferred = teal.deferred(), promise = deferred.promise();\n                    callbacks.push(function() { \n                        var res = callback.apply(this, arguments);\n                        if (res && 'done' in res) res.done(deferred.resolve);\n                        else deferred.resolve.apply(this, arguments); \n                    });\n                    return promise;\n                },\n                done: function(callback) {\n                    callbacks.push(callback);\n                    if (solved) solve();\n                    return this;\n                },\n                cancel: function() {\n                    callbacks = [];\n                }\n            };\n        },\n        resolve: function() {\n            solved = true;\n            args = Array.prototype.slice.call(arguments, 0);\n            solve();\n        }\n    };\n}\n\nteal.when = function(promises) {\n    var deferred = teal.deferred();\n    var count = promises.length, ind = 0;\n    if (count == 0) deferred.resolve();\n    for (var i = 0; i < count; ++i) {\n        promises[i].done(function() {\n            if (++ind == count) deferred.resolve();\n        });\n    }\n    return deferred.promise();\n}\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}