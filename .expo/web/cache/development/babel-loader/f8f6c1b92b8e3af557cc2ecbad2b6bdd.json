{"ast":null,"code":"import $ from 'jquery';\nimport { useEffect } from 'react';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function DiceReact() {\n  window.teal = {};\n  window.$t = window.teal;\n\n  teal.copyto = function (obj, res) {\n    if (obj == null || typeof obj !== 'object') return obj;\n\n    if (obj instanceof Array) {\n      for (var i = obj.length - 1; i >= 0; --i) {\n        res[i] = $t.copy(obj[i]);\n      }\n    } else {\n      for (var i in obj) {\n        if (obj.hasOwnProperty(i)) res[i] = $t.copy(obj[i]);\n      }\n    }\n\n    return res;\n  };\n\n  teal.copy = function (obj) {\n    if (!obj) return obj;\n    return teal.copyto(obj, new obj.constructor());\n  };\n\n  teal.element = function (name, props, place, content) {\n    var dom = document.createElement(name);\n    if (props) for (var i in props) {\n      dom.setAttribute(i, props[i]);\n    }\n    if (place) place.appendChild(dom);\n    if (content !== undefined) $t.inner(content, dom);\n    return dom;\n  };\n\n  teal.inner = function (obj, sel) {\n    sel.appendChild(obj.nodeName != undefined ? obj : document.createTextNode(obj));\n    return sel;\n  };\n\n  teal.id = function (id) {\n    return document.getElementById(id);\n  };\n\n  teal.set = function (sel, props) {\n    for (var i in props) {\n      sel.setAttribute(i, props[i]);\n    }\n\n    return sel;\n  };\n\n  teal.clas = function (sel, oldclass, newclass) {\n    var oc = oldclass ? oldclass.split(/\\s+/) : [],\n        nc = newclass ? newclass.split(/\\s+/) : [],\n        classes = (sel.getAttribute('class') || '').split(/\\s+/);\n    if (!classes[0]) classes = [];\n\n    for (var i in oc) {\n      var ind = classes.indexOf(oc[i]);\n      if (ind >= 0) classes.splice(ind, 1);\n    }\n\n    for (var i in nc) {\n      if (nc[i] && classes.indexOf(nc[i]) < 0) classes.push(nc[i]);\n    }\n\n    sel.setAttribute('class', classes.join(' '));\n  };\n\n  teal.empty = function (sel) {\n    if (sel.childNodes) while (sel.childNodes.length) {\n      sel.removeChild(sel.firstChild);\n    }\n  };\n\n  teal.remove = function (sel) {\n    if (sel) {\n      if (sel.parentNode) sel.parentNode.removeChild(sel);else for (var i = sel.length - 1; i >= 0; --i) {\n        sel[i].parentNode.removeChild(sel[i]);\n      }\n    }\n  };\n\n  teal.bind = function (sel, eventname, func, bubble) {\n    if (!sel) return;\n\n    if (eventname.constructor === Array) {\n      for (var i in eventname) {\n        sel.addEventListener(eventname[i], func, bubble ? bubble : false);\n      }\n    } else sel.addEventListener(eventname, func, bubble ? bubble : false);\n  };\n\n  teal.unbind = function (sel, eventname, func, bubble) {\n    if (eventname.constructor === Array) {\n      for (var i in eventname) {\n        sel.removeEventListener(eventname[i], func, bubble ? bubble : false);\n      }\n    } else sel.removeEventListener(eventname, func, bubble ? bubble : false);\n  };\n\n  teal.one = function (sel, eventname, func, bubble) {\n    var one_func = function one_func(e) {\n      func.call(this, e);\n      teal.unbind(sel, eventname, one_func, bubble);\n    };\n\n    teal.bind(sel, eventname, one_func, bubble);\n  };\n\n  teal.raise_event = function (sel, eventname, bubble, cancelable) {\n    var evt = document.createEvent('UIEvents');\n    evt.initEvent(eventname, bubble == undefined ? true : bubble, cancelable == undefined ? true : cancelable);\n    sel.dispatchEvent(evt);\n  };\n\n  teal.raise = function (sel, eventname, params, bubble, cancelable) {\n    var ev = document.createEvent(\"CustomEvent\");\n    ev.initCustomEvent(eventname, bubble, cancelable, params);\n    sel.dispatchEvent(ev);\n  };\n\n  if (!document.getElementsByClassName) {\n    teal.get_elements_by_class = function (classes, node) {\n      var node = node || document,\n          list = node.getElementsByTagName('*'),\n          cl = classes.split(/\\s+/),\n          result = [];\n\n      for (var i = list.length - 1; i >= 0; --i) {\n        for (var j = cl.length - 1; j >= 0; --j) {\n          var clas = list[i].getAttribute('class');\n\n          if (clas && clas.search('\\\\b' + cl[j] + '\\\\b') != -1) {\n            result.push(list[i]);\n            break;\n          }\n        }\n      }\n\n      return result;\n    };\n  } else {\n    teal.get_elements_by_class = function (classes, node) {\n      return (node || document).getElementsByClassName(classes);\n    };\n  }\n\n  teal.rpc = function (params, callback, noparse) {\n    var ajax = new XMLHttpRequest();\n    ajax.open(\"post\", 'f', true);\n\n    ajax.onreadystatechange = function () {\n      if (ajax.readyState == 4) callback.call(ajax, noparse ? ajax.responseText : JSON.parse(ajax.responseText));\n    };\n\n    ajax.send(JSON.stringify(params));\n  };\n\n  teal.uuid = function () {\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n      var r = Math.random() * 16 | 0,\n          v = c == 'x' ? r : r & 0x3 | 0x8;\n      return v.toString(16);\n    });\n  };\n\n  teal.get_url_params = function () {\n    var params = window.location.search.substring(1).split(\"&\");\n    var res = {};\n\n    for (var i in params) {\n      var keyvalue = params[i].split(\"=\");\n      res[keyvalue[0]] = decodeURI(keyvalue[1]);\n    }\n\n    return res;\n  };\n\n  teal.get_mouse_coords = function (ev) {\n    var touches = ev.changedTouches;\n    if (touches) return {\n      x: touches[0].clientX,\n      y: touches[0].clientY\n    };\n    return {\n      x: ev.clientX,\n      y: ev.clientY\n    };\n  };\n\n  teal.deferred = function () {\n    var solved = false,\n        callbacks = [],\n        args = [];\n\n    function solve() {\n      while (callbacks.length) {\n        callbacks.shift().apply(this, args);\n      }\n    }\n\n    return {\n      promise: function promise() {\n        return {\n          then: function then(callback) {\n            var deferred = teal.deferred(),\n                promise = deferred.promise();\n            callbacks.push(function () {\n              var res = callback.apply(this, arguments);\n              if (res && 'done' in res) res.done(deferred.resolve);else deferred.resolve.apply(this, arguments);\n            });\n            return promise;\n          },\n          done: function done(callback) {\n            callbacks.push(callback);\n            if (solved) solve();\n            return this;\n          },\n          cancel: function cancel() {\n            callbacks = [];\n          }\n        };\n      },\n      resolve: function resolve() {\n        solved = true;\n        args = Array.prototype.slice.call(arguments, 0);\n        solve();\n      }\n    };\n  };\n\n  teal.when = function (promises) {\n    var deferred = teal.deferred();\n    var count = promises.length,\n        ind = 0;\n    if (count == 0) deferred.resolve();\n\n    for (var i = 0; i < count; ++i) {\n      promises[i].done(function () {\n        if (++ind == count) deferred.resolve();\n      });\n    }\n\n    return deferred.promise();\n  };\n\n  function handleInput(e) {}\n\n  return _jsxs(\"div\", {\n    \"data-dice-body\": true,\n    style: {\n      margin: \"0\"\n    },\n    children: [_jsxs(\"div\", {\n      id: \"control_panel\",\n      className: \"control_panel\",\n      children: [_jsxs(\"h6\", {\n        children: [_jsx(\"img\", {\n          src: \"../favicon.ico\",\n          style: {\n            verticalAlign: \"middle\"\n          }\n        }), \" \", _jsx(\"a\", {\n          href: \"..\",\n          children: \"teal\"\n        }), \" dice\"]\n      }), _jsx(\"p\", {\n        id: \"loading_text\",\n        children: \"Loading libraries, please wait a bit...\"\n      }), _jsx(\"p\", {\n        id: \"info_text\",\n        children: _jsx(\"a\", {\n          href: \"http://www.teall.info/2014/01/online-3d-dice-roller.html\",\n          children: \"More info and help\"\n        })\n      }), _jsx(\"p\", {\n        id: \"info_text\",\n        children: _jsx(\"a\", {\n          href: \"/mdice\",\n          children: \"Multiplayer version\"\n        })\n      })]\n    }), _jsxs(\"div\", {\n      id: \"info_div\",\n      style: {\n        display: \"none\"\n      },\n      children: [_jsx(\"div\", {\n        className: \"center_field\",\n        children: _jsx(\"span\", {\n          id: \"label\"\n        })\n      }), _jsx(\"div\", {\n        className: \"center_field\",\n        children: _jsx(\"div\", {\n          className: \"bottom_field\",\n          children: _jsx(\"span\", {\n            id: \"labelhelp\",\n            children: \"click to continue or tap and drag again\"\n          })\n        })\n      })]\n    }), _jsxs(\"div\", {\n      id: \"selector_div\",\n      style: {\n        display: \"none\"\n      },\n      children: [_jsx(\"div\", {\n        className: \"center_field\",\n        children: _jsxs(\"div\", {\n          id: \"sethelp\",\n          children: [\"choose your dice set by clicking the dices or by direct input of notation,\", _jsx(\"br\", {}), \"tap and drag on free space of screen or hit throw button to roll\"]\n        })\n      }), _jsxs(\"div\", {\n        className: \"center_field\",\n        children: [_jsx(\"input\", {\n          type: \"text\",\n          id: \"set\",\n          value: \"4d6\",\n          onChange: function onChange(e) {\n            return handleInput(e.target.value);\n          }\n        }), _jsx(\"br\", {}), _jsx(\"button\", {\n          id: \"clear\",\n          children: \"clear\"\n        }), _jsx(\"button\", {\n          style: {\n            marginLeft: \"0.6em\"\n          },\n          id: \"throw\",\n          children: \"throw\"\n        })]\n      })]\n    }), _jsx(\"div\", {\n      id: \"canvas\"\n    })]\n  });\n}","map":{"version":3,"names":["$","useEffect","DiceReact","window","teal","$t","copyto","obj","res","Array","i","length","copy","hasOwnProperty","constructor","element","name","props","place","content","dom","document","createElement","setAttribute","appendChild","undefined","inner","sel","nodeName","createTextNode","id","getElementById","set","clas","oldclass","newclass","oc","split","nc","classes","getAttribute","ind","indexOf","splice","push","join","empty","childNodes","removeChild","firstChild","remove","parentNode","bind","eventname","func","bubble","addEventListener","unbind","removeEventListener","one","one_func","e","call","raise_event","cancelable","evt","createEvent","initEvent","dispatchEvent","raise","params","ev","initCustomEvent","getElementsByClassName","get_elements_by_class","node","list","getElementsByTagName","cl","result","j","search","rpc","callback","noparse","ajax","XMLHttpRequest","open","onreadystatechange","readyState","responseText","JSON","parse","send","stringify","uuid","replace","c","r","Math","random","v","toString","get_url_params","location","substring","keyvalue","decodeURI","get_mouse_coords","touches","changedTouches","x","clientX","y","clientY","deferred","solved","callbacks","args","solve","shift","apply","promise","then","arguments","done","resolve","cancel","prototype","slice","when","promises","count","handleInput","margin","verticalAlign","display","target","value","marginLeft"],"sources":["/home/alex/react-dice/dice/DiceReact.js"],"sourcesContent":["\n\nimport $ from 'jquery'\nimport { useEffect } from 'react';\n\n\n\nexport default function DiceReact() {\n\n\n    window.teal = {};\nwindow.$t = window.teal;\n\nteal.copyto = function(obj, res) {\n    if (obj == null || typeof obj !== 'object') return obj;\n    if (obj instanceof Array) {\n        for (var i = obj.length - 1; i >= 0; --i)\n            res[i] = $t.copy(obj[i]);\n    }\n    else {\n        for (var i in obj) {\n            if (obj.hasOwnProperty(i))\n                res[i] = $t.copy(obj[i]);\n        }\n    }\n    return res;\n}\n\nteal.copy = function(obj) {\n    if (!obj) return obj;\n    return teal.copyto(obj, new obj.constructor());\n}\n\nteal.element = function(name, props, place, content) {\n    var dom = document.createElement(name);\n    if (props) for (var i in props) dom.setAttribute(i, props[i]);\n    if (place) place.appendChild(dom);\n    if (content !== undefined) $t.inner(content, dom);\n    return dom;\n}\n\nteal.inner = function(obj, sel) {\n    sel.appendChild(obj.nodeName != undefined ? obj : document.createTextNode(obj));\n    return sel;\n}\n\nteal.id = function(id) {\n    return document.getElementById(id);\n}\n\nteal.set = function(sel, props) {\n    for (var i in props) sel.setAttribute(i, props[i]);\n    return sel;\n}\n\nteal.clas = function(sel, oldclass, newclass) {\n    var oc = oldclass ? oldclass.split(/\\s+/) : [],\n        nc = newclass ? newclass.split(/\\s+/) : [],\n        classes = (sel.getAttribute('class') || '').split(/\\s+/);\n    if (!classes[0]) classes = [];\n    for (var i in oc) {\n        var ind = classes.indexOf(oc[i]);\n        if (ind >= 0) classes.splice(ind, 1);\n    }\n    for (var i in nc) {\n        if (nc[i] && classes.indexOf(nc[i]) < 0) classes.push(nc[i]);\n    }\n    sel.setAttribute('class', classes.join(' '));\n}\n\nteal.empty = function(sel) {\n    if (sel.childNodes)\n        while (sel.childNodes.length)\n            sel.removeChild(sel.firstChild);\n}\n\nteal.remove = function(sel) {\n    if (sel) {\n        if (sel.parentNode) sel.parentNode.removeChild(sel);\n        else for (var i = sel.length - 1; i >= 0; --i)\n            sel[i].parentNode.removeChild(sel[i]);\n    }\n}\n\nteal.bind = function(sel, eventname, func, bubble) {\n    if (!sel) return;\n    if (eventname.constructor === Array) {\n        for (var i in eventname)\n            sel.addEventListener(eventname[i], func, bubble ? bubble : false);\n    }\n    else\n        sel.addEventListener(eventname, func, bubble ? bubble : false);\n}\n\nteal.unbind = function(sel, eventname, func, bubble) {\n    if (eventname.constructor === Array) {\n        for (var i in eventname)\n            sel.removeEventListener(eventname[i], func, bubble ? bubble : false);\n    }\n    else\n        sel.removeEventListener(eventname, func, bubble ? bubble : false);\n}\n\nteal.one = function(sel, eventname, func, bubble) {\n    var one_func = function(e) {\n        func.call(this, e);\n        teal.unbind(sel, eventname, one_func, bubble);\n    };\n    teal.bind(sel, eventname, one_func, bubble);\n}\n\nteal.raise_event = function(sel, eventname, bubble, cancelable) {\n    var evt = document.createEvent('UIEvents');\n    evt.initEvent(eventname, bubble == undefined ? true : bubble,\n            cancelable == undefined ? true : cancelable);\n    sel.dispatchEvent(evt);\n}\n\nteal.raise = function(sel, eventname, params, bubble, cancelable) {\n    var ev = document.createEvent(\"CustomEvent\");\n    ev.initCustomEvent(eventname, bubble, cancelable, params);\n    sel.dispatchEvent(ev);\n}\n\nif (!document.getElementsByClassName) {\n    teal.get_elements_by_class = function(classes, node) {\n        var node = node || document,\n            list = node.getElementsByTagName('*'),\n            cl = classes.split(/\\s+/),\n            result = [];\n\n        for (var i = list.length - 1; i >= 0; --i) {\n            for (var j = cl.length - 1; j >= 0; --j) {\n                var clas = list[i].getAttribute('class');\n                if (clas && clas.search('\\\\b' + cl[j] + '\\\\b') != -1) {\n                    result.push(list[i]);\n                    break;\n                }\n            }\n        }\n        return result;\n    }\n}\nelse {\n    teal.get_elements_by_class = function(classes, node) {\n        return (node || document).getElementsByClassName(classes);\n    }\n}\n\nteal.rpc = function(params, callback, noparse) {\n    var ajax = new XMLHttpRequest();\n    ajax.open(\"post\", 'f', true);\n    ajax.onreadystatechange = function() {\n        if (ajax.readyState == 4)\n            callback.call(ajax, noparse ? ajax.responseText : JSON.parse(ajax.responseText));\n    };\n    ajax.send(JSON.stringify(params));\n}\n\nteal.uuid = function() {\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n        var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);\n        return v.toString(16);\n    });\n}\n\nteal.get_url_params = function() {\n    var params = window.location.search.substring(1).split(\"&\");\n    var res = {};\n    for (var i in params) {\n        var keyvalue = params[i].split(\"=\");\n        res[keyvalue[0]] = decodeURI(keyvalue[1]);\n    }\n    return res;\n}\n\nteal.get_mouse_coords = function(ev) {\n    var touches = ev.changedTouches;\n    if (touches) return { x: touches[0].clientX, y: touches[0].clientY };\n    return { x: ev.clientX, y: ev.clientY };\n}\n\nteal.deferred = function() {\n    var solved = false, callbacks = [], args = [];\n    function solve() {\n        while (callbacks.length) {\n            callbacks.shift().apply(this, args);\n        }\n    }\n    return {\n        promise: function() {\n            return {\n                then: function(callback) {\n                    var deferred = teal.deferred(), promise = deferred.promise();\n                    callbacks.push(function() { \n                        var res = callback.apply(this, arguments);\n                        if (res && 'done' in res) res.done(deferred.resolve);\n                        else deferred.resolve.apply(this, arguments); \n                    });\n                    return promise;\n                },\n                done: function(callback) {\n                    callbacks.push(callback);\n                    if (solved) solve();\n                    return this;\n                },\n                cancel: function() {\n                    callbacks = [];\n                }\n            };\n        },\n        resolve: function() {\n            solved = true;\n            args = Array.prototype.slice.call(arguments, 0);\n            solve();\n        }\n    };\n}\n\nteal.when = function(promises) {\n    var deferred = teal.deferred();\n    var count = promises.length, ind = 0;\n    if (count == 0) deferred.resolve();\n    for (var i = 0; i < count; ++i) {\n        promises[i].done(function() {\n            if (++ind == count) deferred.resolve();\n        });\n    }\n    return deferred.promise();\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n \n  function handleInput(e) {\n\n  }\n\n  return (\n    <div data-dice-body style={{margin: \"0\"}}>\n      <div id=\"control_panel\" className=\"control_panel\">\n          <h6><img src=\"../favicon.ico\" style={{verticalAlign: \"middle\"}}></img> <a href=\"..\">teal</a> dice</h6>\n          <p id=\"loading_text\">Loading libraries, please wait a bit...</p>\n          <p id=\"info_text\"><a href=\"http://www.teall.info/2014/01/online-3d-dice-roller.html\">More info and help</a></p>\n          <p id=\"info_text\"><a href=\"/mdice\">Multiplayer version</a></p>\n      </div>\n      <div id=\"info_div\" style={{display: \"none\"}}>\n          <div className=\"center_field\">\n              <span id=\"label\"></span>\n          </div>\n          <div className=\"center_field\">\n              <div className=\"bottom_field\">\n                  <span id=\"labelhelp\">click to continue or tap and drag again</span>\n              </div>\n          </div>\n      </div>\n      <div id=\"selector_div\" style={{display: \"none\"}}>\n          <div className=\"center_field\">\n              <div id=\"sethelp\">\n                  choose your dice set by clicking the dices or by direct input of notation,<br/>\n                  tap and drag on free space of screen or hit throw button to roll\n              </div>\n          </div>\n          <div className=\"center_field\">\n              <input type=\"text\" id=\"set\" value=\"4d6\" onChange={e => handleInput(e.target.value)} ></input><br/>\n              <button id=\"clear\">clear</button>\n              <button style={{marginLeft: \"0.6em\"}} id=\"throw\">throw</button>\n          </div>\n      </div>\n      <div id=\"canvas\"></div>  \n    </div>\n  )\n\n\n\n\n}\n\n\n\n\n\n\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}